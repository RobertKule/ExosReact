# üìö COURS BACKEND NODE.JS POUR D√âBUTANTS COMPLETS

## **üìù QUIZ PR√â-REQUIS (25 questions avec pi√®ges)**

### **Questions sur le Frontend (HTML/CSS/JavaScript)**

1. **Que signifie HTML ?**
   A) Hyper Text Markup Language
   B) High Tech Modern Language
   C) Hyper Transfer Markup Language
   D) Home Tool Markup Language
   **R√©ponse : A**

2. **Quelle balise HTML cr√©e un lien ?**
   A) `<link>`
   B) `<a>`
   C) `<href>`
   D) `<url>`
   **R√©ponse : B**

3. **En CSS, que fait `color: blue;` ?**
   A) Change la couleur de fond
   B) Change la couleur du texte
   C) Change la bordure
   D) Change la taille
   **R√©ponse : B**

4. **Quel code JavaScript affiche une alerte ?**
   A) `console.log("message")`
   B) `alert("message")`
   C) `print("message")`
   D) `show("message")`
   **R√©ponse : B**

5. **Que fait `document.getElementById("monId")` ?**
   A) Cr√©e un nouvel √©l√©ment
   B) Trouve un √©l√©ment par son ID
   C) Supprime un √©l√©ment
   D) Change le titre
   **R√©ponse : B**

### **Questions sur JavaScript**

6. **Quelle est la valeur de `typeof "42"` ?**
   A) "number"
   B) "string"
   C) "42"
   D) "text"
   **R√©ponse : B**

7. **Comment d√©clarer une variable en JavaScript moderne ?**
   A) `var x = 5;`
   B) `let x = 5;`
   C) `const x = 5;`
   D) Les trois sont valides
   **R√©ponse : D**

8. **Que retourne `[1, 2, 3].map(x => x * 2)` ?**
   A) `[2, 4, 6]`
   B) `6`
   C) `[1, 2, 3, 1, 2, 3]`
   D) Erreur
   **R√©ponse : A**

9. **Qu'est-ce qu'une fonction fl√©ch√©e ?**
   A) `function() {}`
   B) `() => {}`
   C) `() {}`
   D) `arrow function() {}`
   **R√©ponse : B**

10. **Comment attendre qu'une promesse se termine ?**
    A) `.then()`
    B) `async/await`
    C) Les deux A et B
    D) `.wait()`
    **R√©ponse : C**

### **Questions sur React**

11. **Qu'est-ce que JSX ?**
    A) Un nouveau langage
    B) JavaScript XML
    C) Un framework CSS
    D) Une base de donn√©es
    **R√©ponse : B**

12. **Comment passe-t-on des donn√©es √† un composant React ?**
    A) Avec `state`
    B) Avec `props`
    C) Avec `context`
    D) Avec `variables`
    **R√©ponse : B**

13. **Quel hook g√®re l'√©tat local ?**
    A) `useEffect`
    B) `useState`
    C) `useContext`
    D) `useReducer`
    **R√©ponse : B**

14. **Que fait `useEffect(() => {}, [])` ?**
    A) S'ex√©cute √† chaque rendu
    B) S'ex√©cute une seule fois
    C) Ne s'ex√©cute jamais
    D) S'ex√©cute quand un state change
    **R√©ponse : B**

15. **Comment importer un composant ?**
    A) `import Component from './Component';`
    B) `require('./Component');`
    C) `include './Component';`
    D) `load './Component';`
    **R√©ponse : A**

### **Questions sur Internet et Backend**

16. **Que signifie HTTP ?**
    A) HyperText Transfer Protocol
    B) High Tech Transfer Process
    C) Hyper Transfer Text Protocol
    D) Home Transfer Protocol
    **R√©ponse : A**

17. **Quel code HTTP signifie "Succ√®s" ?**
    A) 200
    B) 404
    C) 500
    D) 301
    **R√©ponse : A**

18. **Qu'est-ce qu'une API ?**
    A) Application Programming Interface
    B) Advanced Programming Interface
    C) Application Process Interface
    D) Advanced Process Interface
    **R√©ponse : A**

19. **Que signifie CRUD ?**
    A) Create, Read, Update, Delete
    B) Code, Run, Update, Delete
    C) Create, Run, Update, Develop
    D) Code, Read, Update, Develop
    **R√©ponse : A**

20. **Quelle m√©thode HTTP sert √† r√©cup√©rer des donn√©es ?**
    A) GET
    B) POST
    C) PUT
    D) DELETE
    **R√©ponse : A**

### **Questions Pi√®ges**

21. **Node.js peut ex√©cuter du JavaScript :**
    A) Uniquement dans le navigateur
    B) Uniquement sur un serveur
    C) Sur un serveur et dans le navigateur
    D) Nulle part
    **R√©ponse : C**

22. **Lequel n'est PAS un framework backend JavaScript ?**
    A) Express
    B) React
    C) Koa
    D) Nest
    **R√©ponse : B**

23. **NPM signifie :**
    A) Node Package Manager
    B) New Package Manager
    C) Node Program Manager
    D) Network Package Manager
    **R√©ponse : A**

24. **Quelle commande installe un package ?**
    A) `npm get package`
    B) `npm add package`
    C) `npm install package`
    D) `npm download package`
    **R√©ponse : C**

25. **Un serveur local s'appelle :**
    A) `localhost`
    B) `127.0.0.1`
    C) Les deux A et B
    D) `localpc`
    **R√©ponse : C**

---

## **üìä √âVALUATION DU QUIZ**

### **Niveaux :**

**üéØ 21-25 bonnes r√©ponses : EXPERT DES BASES**
Vous ma√Ætrisez parfaitement les concepts frontend et backend. Node.js sera naturel pour vous !

**ü•á 16-20 bonnes r√©ponses : TR√àS BONNES CONNAISSANCES**
Vous comprenez bien JavaScript et les concepts web. Parfait pour commencer Node.js.

**ü•à 11-15 bonnes r√©ponses : CONNAISSANCES MOYENNES**
Vous avez les bases mais certaines notions sont floues. Ce cours va tout clarifier.

**ü•â 6-10 bonnes r√©ponses : D√âBUTANT MOTIV√â**
Vous connaissez quelques concepts. Ce cours va vous apprendre depuis le d√©but.

**üéØ 0-5 bonnes r√©ponses : NOUVEAU COMPLET**
Parfait ! Vous allez tout apprendre ensemble, sans mauvaises habitudes.

---

## **üéØ PARTIE 1 : INTRODUCTION AU BACKEND**

### **Th√©orie : Qu'est-ce que le Backend ?**

**Analogie du Restaurant :**
```
üè† FRONTEND (Salle du restaurant)
‚îú‚îÄ‚îÄ D√©cor beau (HTML/CSS)
‚îú‚îÄ‚îÄ Menu interactif (JavaScript)
‚îú‚îÄ‚îÄ Clients (Utilisateurs)
‚îî‚Üí Ce que VOUS voyez

üë®‚Äçüç≥ BACKEND (Cuisine)
‚îú‚îÄ‚îÄ Stock (Base de donn√©es)
‚îú‚îÄ‚îÄ Recettes (Logique m√©tier)
‚îú‚îÄ‚îÄ Chefs (Serveurs)
‚îî‚Üí Ce qui se passe EN COULISSES

üìû API = Le serveur qui fait le lien
```

### **Le Probl√®me Historique :**

**Avant 2009 : La Tour de Babel du D√©veloppement**
```javascript
// Un d√©veloppeur devait conna√Ætre :
FRONTEND : JavaScript ‚úÖ
BACKEND : PHP ‚ùå (langage diff√©rent!)
           ou Java ‚ùå (encore diff√©rent!)
           ou Python ‚ùå (toujours diff√©rent!)
           ou Ruby ‚ùå (oh non!)

// Probl√®mes :
1. Apprendre 2+ langages diff√©rents
2. Context switch constant
3. Communaut√©s s√©par√©es
4. Outils incompatibles
```

**Cons√©quence :** Les √©quipes √©taient divis√©es :
- **Frontend Devs** = Les "artistes" JavaScript
- **Backend Devs** = Les "ing√©nieurs" PHP/Java

---

## **‚úèÔ∏è √Ä VOTRE TOUR - Exercice 1**

**R√©flexion :** 
Imaginez-vous √™tre chef de projet. Pourquoi pensez-vous qu'avoir le m√™me langage (JavaScript) pour le frontend et le backend serait un avantage ?

**√âcrivez 3 avantages :**
1. ________________________________
2. ________________________________
3. ________________________________

---

## **üìù MINI-QUIZ 1 (5 questions al√©atoires)**

### **1. Le backend g√®re principalement :**
A) L'apparence des pages
B) La logique et les donn√©es
C) Les animations CSS
D) Le design
**R√©ponse : B**

### **2. Avant Node.js, un d√©veloppeur JavaScript devait :**
A) Apprendre un autre langage pour le backend
B) Utiliser seulement JavaScript
C) √âcrire en Java pour le frontend
D) Rien de sp√©cial
**R√©ponse : A**

### **3. L'API dans un restaurant repr√©sente :**
A) La cuisine
B) Le serveur qui communique
C) Les clients
D) Le menu
**R√©ponse : B**

### **4. Le frontend s'ex√©cute dans :**
A) Le navigateur
B) Le serveur
C) La base de donn√©es
D) Le terminal
**R√©ponse : A**

### **5. CRUD signifie :**
A) Create, Read, Update, Delete
B) Code, Run, Update, Debug
C) Create, Run, Use, Delete
D) Code, Read, Update, Develop
**R√©ponse : A**

---

## **üéØ PARTIE 2 : LES ORIGINES DE NODE.JS**

### **Th√©orie : Le Cr√©ateur et Son Probl√®me**

**L'Homme : Ryan Dahl** üá∫üá∏
- **Date :** 2009
- **Probl√®me observ√© :** Les serveurs web √©taient lents avec plusieurs connexions simultan√©es
- **Son id√©e g√©niale :** "Et si on utilisait JavaScript, qui est excellent pour faire plusieurs choses en m√™me temps (asynchrone), pour faire tourner des serveurs ?"

### **Pourquoi JavaScript pour les Serveurs ?**

**Le Super-pouvoir de JavaScript : Asynchrone**
```javascript
// JavaScript sait attendre sans bloquer :
setTimeout(() => {
    console.log("Apr√®s 2 secondes");
}, 2000);

console.log("Tout de suite!");
// Affiche : "Tout de suite!" puis "Apr√®s 2 secondes"
// Le programme continue pendant l'attente !
```

**Les Serveurs Traditionnels :** Comme un restaurant avec UN seul serveur qui s'occupe d'UN client √† la fois.

**Node.js :** Comme un restaurant avec UN serveur super efficace qui prend plusieurs commandes en m√™me temps.

### **La Naissance de Node.js**

```
2009 : Ryan Dahl pr√©sente Node.js
      = JavaScript + Moteur V8 de Chrome + API syst√®me

V8 = Moteur ultra-rapide de Chrome qui ex√©cute JavaScript
API syst√®me = Acc√®s aux fichiers, r√©seau, etc.
```

**Premi√®res r√©actions :**
- "JavaScript sur un serveur ? Ridicule !"
- "√áa ne marchera jamais !"
- "Pourquoi r√©inventer la roue ?"

**Mais... √ßa a march√© !** Pourquoi ?
1. **Un seul langage** = Productivit√© √ó2
2. **Asynchrone** = Performances excellentes
3. **NPM** = √ânorme biblioth√®que de packages

---

## **‚úèÔ∏è √Ä VOTRE TOUR - Exercice 2**

**Comprenez l'asynchrone :**
Dans quel ordre s'affichent ces messages ?

```javascript
console.log("1. D√©but");

setTimeout(() => {
    console.log("2. Timeout");
}, 0);

console.log("3. Fin");

// Ordre r√©el : ______, ______, ______
```

---

## **üìù MINI-QUIZ 2 (5 questions al√©atoires)**

### **1. Node.js a √©t√© cr√©√© en :**
A) 2005
B) 2009
C) 2012
D) 2015
**R√©ponse : B**

### **2. Le cr√©ateur de Node.js est :**
A) Mark Zuckerberg
B) Ryan Dahl
C) Brendan Eich
D) Elon Musk
**R√©ponse : B**

### **3. Node.js utilise le moteur :**
A) SpiderMonkey
B) V8
C) JavaScriptCore
D) Chakra
**R√©ponse : B**

### **4. L'asynchrone signifie que JavaScript peut :**
A) Attendre sans bloquer
B) Lire des fichiers
C) √âcrire du HTML
D) Cr√©er des animations
**R√©ponse : A**

### **5. Avant Node.js, JavaScript s'ex√©cutait :**
A) Uniquement dans le navigateur
B) Sur les serveurs
C) Sur mobile
D) Nulle part
**R√©ponse : A**

---

## **üéØ PARTIE 3 : REACT VS NODE - O√ô S'EX√âCUTENT-ILS ?**

### **Th√©orie : Deux Environnements Diff√©rents**

**React = JavaScript dans le Navigateur**
```javascript
// Code React (dans le navigateur)
function App() {
    // Ce code tourne chez l'UTILISATEUR
    // Sur SON ordinateur, dans SON Chrome/Firefox
    return <h1>Bonjour!</h1>;
}
```

**Node.js = JavaScript dans le Terminal/Serveur**
```javascript
// Code Node.js (dans le terminal)
const fs = require('fs');
// Ce code tourne sur le SERVEUR
// Sur NOTRE ordinateur, dans le terminal
```

### **Votre Premier Code Node.js (MAINTENANT !)**

#### **√âtape 1 : V√©rifier l'installation**
```bash
# Ouvrez le terminal (CMD sur Windows, Terminal sur Mac)
node --version
# Doit afficher : v18.x.x ou v20.x.x
```

#### **√âtape 2 : Cr√©er un fichier JavaScript**
```bash
# Cr√©ez un fichier
touch mon-premier-node.js
# Ou cr√©ez-le avec VS Code
```

#### **√âtape 3 : √âcrire du code Node.js**
```javascript
// mon-premier-node.js
console.log("üéâ Mon premier code Node.js!");

// Calcul simple
let prix = 100;
let quantite = 3;
let total = prix * quantite;
console.log(`Total : ${total}‚Ç¨`);

// Date et heure
console.log("Date actuelle :", new Date());

// Lecture syst√®me
console.log("Dossier actuel :", process.cwd());
console.log("Arguments :", process.argv);
```

#### **√âtape 4 : Ex√©cuter**
```bash
node mon-premier-node.js
# R√©sultat :
üéâ Mon premier code Node.js!
Total : 300‚Ç¨
Date actuelle : 2024-01-15T10:30:00.000Z
Dossier actuel : /Users/votre-nom
Arguments : [...]
```

### **Diff√©rences Cl√©s :**

| **React (Navigateur)** | **Node.js (Serveur)** |
|----------------------|----------------------|
| `document.getElementById()` | `fs.readFile()` |
| `window.alert()` | `console.log()` |
| `fetch()` pour les APIs | Cr√©e des APIs avec `http` |
| Manipule le DOM | Manipule les fichiers |
| Pas d'acc√®s aux fichiers | Acc√®s complet au syst√®me |

---

## **‚úèÔ∏è √Ä VOTRE TOUR - Exercice 3**

**Cr√©ez un mini-programme Node.js qui :**
1. Affiche votre nom et pr√©nom
2. Calcule votre √¢ge (ann√©e actuelle - ann√©e de naissance)
3. Affiche le nom du dossier o√π vous √™tes
4. Affiche un message diff√©rent selon l'heure (matin/apr√®s-midi/soir)

**Exemple de sortie :**
```
üëã Bonjour John Doe !
üìÖ Vous avez 25 ans
üìÅ Vous √™tes dans : /Users/john
‚è∞ Bon apr√®s-midi !
```

---

## **üìù MINI-QUIZ 3 (5 questions al√©atoires)**

### **1. React s'ex√©cute dans :**
A) Le terminal
B) Le navigateur
C) Le serveur
D) La base de donn√©es
**R√©ponse : B**

### **2. `console.log()` dans Node.js affiche dans :**
A) Le navigateur
B) Le terminal
C) Un fichier
D) L'√©cran de l'utilisateur
**R√©ponse : B**

### **3. Pour ex√©cuter un fichier Node.js :**
A) `run fichier.js`
B) `node fichier.js`
C) `execute fichier.js`
D) `start fichier.js`
**R√©ponse : B**

### **4. Node.js peut acc√©der aux :**
A) Fichiers du syst√®me
B) √âl√©ments HTML
C) Animations CSS
D) Rien
**R√©ponse : A**

### **5. `process.cwd()` donne :**
A) Le dossier actuel
B) La date
C) L'heure
D) La m√©moire utilis√©e
**R√©ponse : A**

---

## **üéØ PARTIE 4 : INITIATION ET SYNTAXE NODE.JS**

### **Th√©orie : Modules Node.js**

Node.js fonctionne avec des **modules** = morceaux de code r√©utilisables.

**Trois types de modules :**
1. **Modules natifs** (fournis par Node.js) : `fs`, `http`, `path`
2. **Modules tiers** (install√©s via NPM) : `express`, `mongoose`
3. **Modules personnels** (vos propres fichiers)

### **Syntaxe des Modules :**

#### **Importer un module :**
```javascript
// CommonJS (Node.js traditionnel)
const fs = require('fs');
const monModule = require('./mon-module.js');

// ES Modules (JavaScript moderne)
import fs from 'fs';
import monModule from './mon-module.js';
```

#### **Cr√©er son propre module :**
```javascript
// calculs.js
function addition(a, b) {
    return a + b;
}

function multiplication(a, b) {
    return a * b;
}

// Exporte les fonctions
module.exports = {
    addition,
    multiplication
};

// Ou en ES Modules :
export { addition, multiplication };
```

#### **Utiliser son module :**
```javascript
// app.js
const calculs = require('./calculs.js');

console.log(calculs.addition(5, 3)); // 8
console.log(calculs.multiplication(5, 3)); // 15
```

### **Modules Natifs Importants :**

**`fs` = File System (Syst√®me de fichiers)**
```javascript
const fs = require('fs');

// Lire un fichier
fs.readFile('fichier.txt', 'utf8', (err, data) => {
    if (err) throw err;
    console.log(data);
});

// √âcrire un fichier
fs.writeFile('nouveau.txt', 'Bonjour!', (err) => {
    if (err) throw err;
    console.log('Fichier cr√©√©!');
});
```

**`path` = Manipulation de chemins**
```javascript
const path = require('path');

console.log(path.join('/dossier', 'sous-dossier', 'fichier.txt'));
// /dossier/sous-dossier/fichier.txt

console.log(path.extname('document.pdf')); // .pdf
```

**`os` = Informations syst√®me**
```javascript
const os = require('os');

console.log(os.platform()); // linux, win32, darwin (mac)
console.log(os.totalmem()); // M√©moire totale
console.log(os.freemem()); // M√©moire libre
```

---

## **‚úèÔ∏è √Ä VOTRE TOUR - Exercice 4**

**Cr√©ez un syst√®me de notes avec modules :**

1. **module-note.js** :
   - Fonction `creerNote(titre, contenu)` ‚Üí retourne un objet note
   - Fonction `afficherNote(note)` ‚Üí affiche la note format√©e

2. **app.js** :
   - Importe votre module
   - Cr√©e 3 notes
   - Les affiche toutes

3. **Utilisez `fs`** pour sauvegarder les notes dans un fichier `notes.json`

---

## **üìù MINI-QUIZ 4 (5 questions al√©atoires)**

### **1. Pour importer le module fs :**
A) `import fs from 'fs';`
B) `const fs = require('fs');`
C) `load fs;`
D) A ou B
**R√©ponse : D**

### **2. `fs.readFile()` lit :**
A) Une page web
B) Un fichier
C) Une base de donn√©es
D) La m√©moire
**R√©ponse : B**

### **3. `path.join()` combine :**
A) Des cha√Ænes de caract√®res
B) Des chemins de fichiers
C) Des nombres
D) Des tableaux
**R√©ponse : B**

### **4. `module.exports` sert √† :**
A) Importer
B) Exporter
C) Supprimer
D) Cacher
**R√©ponse : B**

### **5. Node.js utilise par d√©faut :**
A) CommonJS
B) ES Modules
C) AMD
D) UMD
**R√©ponse : A**

---

## **üéØ PARTIE 5 : √âVOLUTION DES FRAMEWORKS NODE.JS**

### **Th√©orie : Chronologie des Frameworks**

#### **2010 : Express.js - Le Pioneer**
**Cr√©ateur :** TJ Holowaychuk  
**Probl√®me r√©solu :** Node.js natif √©tait trop bas niveau
```javascript
// AVANT (Node.js natif)
if (req.url === '/') {
    // Accueil
} else if (req.url === '/contact') {
    // Contact
} // ... tr√®s verbeux!

// APR√àS (Express.js)
app.get('/', (req, res) => {
    // Accueil
});
app.get('/contact', (req, res) => {
    // Contact
});
```

#### **2013 : Koa.js - Le Successeur**
**Cr√©√© par :** L'√©quipe Express  
**Pourquoi :** Express vieillissait, besoin de modernit√©  
**Innovation :** Utilise `async/await` nativement

#### **2014 : Hapi.js - L'Entreprise**
**Cr√©ateur :** Walmart Labs  
**Pourquoi :** Besoin de stabilit√© pour l'e-commerce  
**Sp√©cialit√© :** Configuration over code, id√©al pour grosses apps

#### **2015 : Meteor.js - Le Tout-en-Un**
**Innovation :** R√©activit√© temps r√©el, full-stack JavaScript  
**Pour qui :** D√©butants qui veulent tout faire rapidement

#### **2016 : Fastify - Le Rapide**
**Objectif :** √ätre le framework le plus rapide  
**Sp√©cialit√© :** Schema-based validation, performances extr√™mes

#### **2017 : Nest.js - L'Architecte**
**Inspir√© de :** Angular (TypeScript, architecture)  
**Pour qui :** Grosses applications d'entreprise  
**Avantage :** Architecture organis√©e, √©volutive

### **Pourquoi Express est Toujours le Plus Populaire ?**

1. **Simplicit√© :** Apprentissage en 1 journ√©e
2. **Minimaliste :** Ajoutez ce dont vous avez besoin
3. **Middleware :** Syst√®me puissant et flexible
4. **Communaut√© :** Plus grande communaut√©, plus de ressources
5. **Maturit√© :** 13 ans de d√©veloppement, tr√®s stable

**Statistiques 2024 :**
- Express : 60% du march√©
- Nest.js : 20%
- Fastify : 10%
- Autres : 10%

---

## **‚úèÔ∏è √Ä VOTRE TOUR - Exercice 5**

**Recherche rapide :**
Pour chaque framework, trouvez :
1. Son ann√©e de cr√©ation
2. Son cr√©ateur principal
3. Son principal avantage

| Framework | Ann√©e | Cr√©ateur | Avantage Principal |
|-----------|-------|----------|-------------------|
| Express.js | 2010 | TJ Holowaychuk | Simplicit√© |
| Koa.js | _____ | __________ | __________ |
| Nest.js | _____ | __________ | __________ |
| Fastify | _____ | __________ | __________ |

---

## **üìù MINI-QUIZ 5 (5 questions al√©atoires)**

### **1. Le plus ancien framework Node.js est :**
A) Express
B) Koa
C) Nest
D) Fastify
**R√©ponse : A**

### **2. Koa.js a √©t√© cr√©√© par :**
A) L'√©quipe Express
B) Facebook
C) Google
D) Microsoft
**R√©ponse : A**

### **3. Nest.js est inspir√© de :**
A) React
B) Angular
C) Vue
D) jQuery
**R√©ponse : B**

### **4. Fastify se sp√©cialise dans :**
A) La simplicit√©
B) La vitesse
C) La s√©curit√©
D) L'apprentissage
**R√©ponse : B**

### **5. Le framework le plus utilis√© est :**
A) Express
B) Koa
C) Nest
D) Fastify
**R√©ponse : A**

---

## **üéØ PARTIE 6 : EXPRESS.JS - NOTRE CHOIX**

### **Th√©orie : Pourquoi Express pour D√©butants ?**

#### **Installation Express (2 minutes) :**
```bash
# 1. Cr√©ez un dossier
mkdir mon-app-express
cd mon-app-express

# 2. Initialisez NPM
npm init -y

# 3. Installez Express
npm install express

# 4. Installez Nodemon (red√©marrage auto)
npm install -D nodemon
```

#### **Notre Premier Serveur Express :**

```javascript
// server.js
const express = require('express');
const app = express();
const PORT = 3000;

// Route GET simple
app.get('/', (req, res) => {
    res.send('<h1>Bonjour Express! üëã</h1>');
});

// Route avec param√®tre
app.get('/bonjour/:nom', (req, res) => {
    const nom = req.params.nom;
    res.send(`<h1>Bonjour ${nom}! üòä</h1>`);
});

// Route API JSON
app.get('/api/message', (req, res) => {
    res.json({
        success: true,
        message: 'API Express fonctionne!',
        timestamp: new Date()
    });
});

// Route 404 (doit √™tre la derni√®re)
app.use((req, res) => {
    res.status(404).send(`
        <h1>404 - Page non trouv√©e</h1>
        <p>D√©sol√©, cette page n'existe pas.</p>
    `);
});

// D√©marrer le serveur
app.listen(PORT, () => {
    console.log(`
    =================================
    üöÄ Express d√©marr√©!
    üëâ http://localhost:${PORT}
    
    Routes disponibles:
    - GET  /              (Page d'accueil)
    - GET  /bonjour/:nom  (Bonjour personnalis√©)
    - GET  /api/message   (API JSON)
    =================================
    `);
});
```

#### **package.json pour Nodemon :**
```json
{
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js"
  }
}
```

#### **Ex√©cution :**
```bash
# Mode d√©veloppement (red√©marrage auto)
npm run dev

# Mode production
npm start
```

### **Concepts Express Cl√©s :**

#### **1. Routes = URLs + M√©thodes HTTP**
```javascript
// GET    : Lire
// POST   : Cr√©er  
// PUT    : Mettre √† jour
// DELETE : Supprimer

app.get('/users', (req, res) => {
    // Lire les utilisateurs
});

app.post('/users', (req, res) => {
    // Cr√©er un utilisateur
});
```

#### **2. Middleware = Fonctions interm√©diaires**
```javascript
// Middleware de logging
app.use((req, res, next) => {
    console.log(`${new Date()} - ${req.method} ${req.url}`);
    next(); // Continue
});

// Middleware pour parser JSON
app.use(express.json());
```

#### **3. `req` et `res` = Requ√™te et R√©ponse**
```javascript
// req = Ce qui vient du client
req.params    // Param√®tres d'URL (:id)
req.query     // Query strings (?search=test)
req.body      // Corps de la requ√™te (JSON/formulaire)
req.headers   // En-t√™tes HTTP

// res = Ce qu'on envoie au client
res.send()    // Envoie HTML/texte
res.json()    // Envoie JSON
res.status()  // D√©finit le code HTTP
res.redirect() // Redirige
```

---

## **‚úèÔ∏è √Ä VOTRE TOUR - Exercice 6**

**Cr√©ez un mini-site avec Express :**
1. Page d'accueil (`/`) avec navigation
2. Page √Ä propos (`/about`)
3. Page Contact (`/contact`) avec formulaire simul√©
4. API calculatrice (`/api/calc/add/:a/:b`) qui retourne la somme en JSON
5. Page 404 personnalis√©e
6. Middleware qui log toutes les visites

**Testez avec votre navigateur :**
- http://localhost:3000
- http://localhost:3000/about
- http://localhost:3000/api/calc/add/5/3
- http://localhost:3000/une-page-qui-nexiste-pas

---

## **üìù MINI-QUIZ 6 (5 questions al√©atoires)**

### **1. `app.get()` g√®re les requ√™tes :**
A) GET
B) POST
C) PUT
D) DELETE
**R√©ponse : A**

### **2. `req.params` contient :**
A) Les query strings
B) Les param√®tres d'URL
C) Le corps JSON
D) Les en-t√™tes
**R√©ponse : B**

### **3. `res.json()` envoie :**
A) Du HTML
B) Du JSON
C) Du texte
D) Un fichier
**R√©ponse : B**

### **4. Nodemon sert √† :**
A) Red√©marrer automatiquement
B) Compiler TypeScript
C) Optimiser les images
D) Tester le code
**R√©ponse : A**

### **5. `next()` dans un middleware :**
A) Arr√™te la requ√™te
B) Passe au suivant
C) Renvoie une erreur
D) Rien
**R√©ponse : B**

---

## **üéØ PARTIE 7 : SYST√àME D'AUTHENTIFICATION PAS √Ä PAS**

### **√âtape 1 : Structure du Projet**

```
mon-app-auth/
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ server.js
‚îú‚îÄ‚îÄ users.json (notre base de donn√©es temporaire)
‚îî‚îÄ‚îÄ public/
    ‚îî‚îÄ‚îÄ index.html (interface frontend)
```

### **√âtape 2 : Installation**

```bash
npm init -y
npm install express bcryptjs
npm install -D nodemon
```

### **√âtape 3 : Code Serveur Complet**

```javascript
// server.js
const express = require('express');
const fs = require('fs').promises;
const bcrypt = require('bcryptjs');
const app = express();
const PORT = 3000;

// Middlewares
app.use(express.json());
app.use(express.static('public'));

// Base de donn√©es simple (fichier JSON)
const DB_FILE = 'users.json';

// Fonctions utilitaires
async function readUsers() {
    try {
        const data = await fs.readFile(DB_FILE, 'utf8');
        return JSON.parse(data);
    } catch {
        return []; // Fichier vide = tableau vide
    }
}

async function saveUsers(users) {
    await fs.writeFile(DB_FILE, JSON.stringify(users, null, 2));
}

// ========== ROUTES ==========

// 1. PAGE D'ACCUEIL
app.get('/', (req, res) => {
    res.sendFile(__dirname + '/public/index.html');
});

// 2. INSCRIPTION (POST /api/register)
app.post('/api/register', async (req, res) => {
    try {
        const { email, password, name } = req.body;
        
        // Validation
        if (!email || !password || !name) {
            return res.status(400).json({
                success: false,
                message: 'Email, mot de passe et nom requis'
            });
        }
        
        const users = await readUsers();
        
        // V√©rifier si email existe d√©j√†
        if (users.find(u => u.email === email)) {
            return res.status(400).json({
                success: false,
                message: 'Email d√©j√† utilis√©'
            });
        }
        
        // Hacher le mot de passe
        const hashedPassword = await bcrypt.hash(password, 10);
        
        // Cr√©er l'utilisateur
        const newUser = {
            id: Date.now(),
            email,
            password: hashedPassword,
            name,
            createdAt: new Date().toISOString()
        };
        
        users.push(newUser);
        await saveUsers(users);
        
        // R√©ponse (sans le mot de passe)
        res.status(201).json({
            success: true,
            message: 'Compte cr√©√© avec succ√®s',
            user: {
                id: newUser.id,
                email: newUser.email,
                name: newUser.name
            }
        });
        
    } catch (error) {
        console.error('Erreur inscription:', error);
        res.status(500).json({
            success: false,
            message: 'Erreur serveur'
        });
    }
});

// 3. CONNEXION (POST /api/login)
app.post('/api/login', async (req, res) => {
    try {
        const { email, password } = req.body;
        
        if (!email || !password) {
            return res.status(400).json({
                success: false,
                message: 'Email et mot de passe requis'
            });
        }
        
        const users = await readUsers();
        const user = users.find(u => u.email === email);
        
        if (!user) {
            return res.status(401).json({
                success: false,
                message: 'Email ou mot de passe incorrect'
            });
        }
        
        // V√©rifier le mot de passe
        const validPassword = await bcrypt.compare(password, user.password);
        
        if (!validPassword) {
            return res.status(401).json({
                success: false,
                message: 'Email ou mot de passe incorrect'
            });
        }
        
        // Succ√®s
        res.json({
            success: true,
            message: 'Connexion r√©ussie',
            user: {
                id: user.id,
                email: user.email,
                name: user.name
            }
        });
        
    } catch (error) {
        console.error('Erreur connexion:', error);
        res.status(500).json({
            success: false,
            message: 'Erreur serveur'
        });
    }
});

// 4. PROFIL (GET /api/profile/:id)
app.get('/api/profile/:id', async (req, res) => {
    try {
        const userId = parseInt(req.params.id);
        const users = await readUsers();
        const user = users.find(u => u.id === userId);
        
        if (!user) {
            return res.status(404).json({
                success: false,
                message: 'Utilisateur non trouv√©'
            });
        }
        
        res.json({
            success: true,
            user: {
                id: user.id,
                email: user.email,
                name: user.name,
                createdAt: user.createdAt
            }
        });
        
    } catch (error) {
        console.error('Erreur profil:', error);
        res.status(500).json({
            success: false,
            message: 'Erreur serveur'
        });
    }
});

// 5. MODIFIER PROFIL (PUT /api/profile/:id)
app.put('/api/profile/:id', async (req, res) => {
    try {
        const userId = parseInt(req.params.id);
        const { name, email } = req.body;
        
        let users = await readUsers();
        const userIndex = users.findIndex(u => u.id === userId);
        
        if (userIndex === -1) {
            return res.status(404).json({
                success: false,
                message: 'Utilisateur non trouv√©'
            });
        }
        
        // Mettre √† jour
        users[userIndex] = {
            ...users[userIndex],
            name: name || users[userIndex].name,
            email: email || users[userIndex].email
        };
        
        await saveUsers(users);
        
        res.json({
            success: true,
            message: 'Profil mis √† jour',
            user: {
                id: users[userIndex].id,
                email: users[userIndex].email,
                name: users[userIndex].name
            }
        });
        
    } catch (error) {
        console.error('Erreur modification:', error);
        res.status(500).json({
            success: false,
            message: 'Erreur serveur'
        });
    }
});

// D√©marrer le serveur
app.listen(PORT, () => {
    console.log(`
    ============================================
    üîê SERVEUR D'AUTHENTIFICATION D√âMARR√â
    üëâ http://localhost:${PORT}
    
    ENDPOINTS :
    - POST   /api/register     (Inscription)
    - POST   /api/login        (Connexion)
    - GET    /api/profile/:id  (Profil)
    - PUT    /api/profile/:id  (Modifier profil)
    ============================================
    `);
});
```

### **√âtape 4 : Interface Frontend (public/index.html)**

```html
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syst√®me d'Authentification</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 900px;
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .header p {
            opacity: 0.9;
        }
        
        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }
        
        @media (max-width: 768px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
        
        .section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            transition: transform 0.3s;
        }
        
        .section:hover {
            transform: translateY(-5px);
        }
        
        .section h2 {
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section h2 i {
            color: #667eea;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }
        
        input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            width: 100%;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }
        
        .result {
            margin-top: 30px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }
        
        .result h3 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .result pre {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 14px;
            margin-top: 10px;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }
        
        .user-details h4 {
            color: #333;
            margin-bottom: 5px;
        }
        
        .user-details p {
            color: #666;
            font-size: 14px;
        }
        
        .status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 5px;
        }
        
        .success {
            background: #d4edda;
            color: #155724;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }
        
        .loading::after {
            content: '...';
            animation: dots 1.5s infinite;
        }
        
        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-lock"></i> Syst√®me d'Authentification</h1>
            <p>Node.js + Express + bcrypt</p>
        </div>
        
        <div class="content">
            <!-- Section Inscription -->
            <div class="section">
                <h2><i class="fas fa-user-plus"></i> Inscription</h2>
                <div class="form-group">
                    <label for="register-name"><i class="fas fa-user"></i> Nom complet</label>
                    <input type="text" id="register-name" placeholder="Votre nom">
                </div>
                <div class="form-group">
                    <label for="register-email"><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" id="register-email" placeholder="votre@email.com">
                </div>
                <div class="form-group">
                    <label for="register-password"><i class="fas fa-key"></i> Mot de passe</label>
                    <input type="password" id="register-password" placeholder="Minimum 8 caract√®res">
                </div>
                <button onclick="register()">
                    <i class="fas fa-user-plus"></i> Cr√©er mon compte
                </button>
            </div>
            
            <!-- Section Connexion -->
            <div class="section">
                <h2><i class="fas fa-sign-in-alt"></i> Connexion</h2>
                <div class="form-group">
                    <label for="login-email"><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" id="login-email" placeholder="votre@email.com">
                </div>
                <div class="form-group">
                    <label for="login-password"><i class="fas fa-key"></i> Mot de passe</label>
                    <input type="password" id="login-password" placeholder="Votre mot de passe">
                </div>
                <button onclick="login()">
                    <i class="fas fa-sign-in-alt"></i> Se connecter
                </button>
            </div>
            
            <!-- Section Profil -->
            <div class="section">
                <h2><i class="fas fa-id-card"></i> Profil utilisateur</h2>
                <div class="form-group">
                    <label for="profile-id"><i class="fas fa-id-badge"></i> ID utilisateur</label>
                    <input type="number" id="profile-id" placeholder="Votre ID (ex: 123456)">
                </div>
                <button onclick="getProfile()">
                    <i class="fas fa-search"></i> Voir mon profil
                </button>
            </div>
            
            <!-- Section Modification -->
            <div class="section">
                <h2><i class="fas fa-edit"></i> Modifier le profil</h2>
                <div class="form-group">
                    <label for="update-id"><i class="fas fa-id-badge"></i> ID utilisateur</label>
                    <input type="number" id="update-id" placeholder="Votre ID">
                </div>
                <div class="form-group">
                    <label for="update-name"><i class="fas fa-user"></i> Nouveau nom</label>
                    <input type="text" id="update-name" placeholder="Nouveau nom">
                </div>
                <div class="form-group">
                    <label for="update-email"><i class="fas fa-envelope"></i> Nouvel email</label>
                    <input type="email" id="update-email" placeholder="nouveau@email.com">
                </div>
                <button onclick="updateProfile()">
                    <i class="fas fa-save"></i> Mettre √† jour
                </button>
            </div>
        </div>
        
        <!-- Zone des r√©sultats -->
        <div class="result" id="result">
            <h3><i class="fas fa-info-circle"></i> R√©sultats</h3>
            <p>Utilisez les formulaires ci-dessus pour tester le syst√®me.</p>
            <p>Les donn√©es seront affich√©es ici.</p>
        </div>
    </div>

    <script>
        const resultDiv = document.getElementById('result');
        
        // Fonction g√©n√©rique pour appeler l'API
        async function callAPI(url, method, data = {}) {
            resultDiv.innerHTML = '<div class="loading">Chargement</div>';
            
            try {
                const response = await fetch(url, {
                    method,
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                let html = `<h3><i class="fas fa-${result.success ? 'check-circle' : 'exclamation-circle'}"></i> ${result.message}</h3>`;
                
                if (result.success && result.user) {
                    html += `
                        <div class="user-info">
                            <div class="avatar">${result.user.name.charAt(0)}</div>
                            <div class="user-details">
                                <h4>${result.user.name}</h4>
                                <p>${result.user.email}</p>
                                <p>ID: ${result.user.id}</p>
                                ${result.user.createdAt ? `<p>Cr√©√© le: ${new Date(result.user.createdAt).toLocaleDateString()}</p>` : ''}
                            </div>
                        </div>
                    `;
                }
                
                html += `
                    <div class="status ${result.success ? 'success' : 'error'}">
                        ${result.success ? 'SUCC√àS' : 'ERREUR'}
                    </div>
                    <h4 style="margin-top: 15px;">R√©ponse compl√®te:</h4>
                    <pre>${JSON.stringify(result, null, 2)}</pre>
                `;
                
                resultDiv.innerHTML = html;
                
            } catch (error) {
                resultDiv.innerHTML = `
                    <h3 style="color: #dc3545;"><i class="fas fa-exclamation-triangle"></i> Erreur</h3>
                    <p>Une erreur s'est produite:</p>
                    <pre>${error.message}</pre>
                `;
            }
        }
        
        // Fonctions sp√©cifiques
        function register() {
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            
            callAPI('/api/register', 'POST', { name, email, password });
        }
        
        function login() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            callAPI('/api/login', 'POST', { email, password });
        }
        
        function getProfile() {
            const id = document.getElementById('profile-id').value;
            
            if (!id) {
                resultDiv.innerHTML = '<p style="color: #dc3545;">Veuillez entrer un ID</p>';
                return;
            }
            
            callAPI(`/api/profile/${id}`, 'GET');
        }
        
        function updateProfile() {
            const id = document.getElementById('update-id').value;
            const name = document.getElementById('update-name').value;
            const email = document.getElementById('update-email').value;
            
            if (!id) {
                resultDiv.innerHTML = '<p style="color: #dc3545;">Veuillez entrer un ID</p>';
                return;
            }
            
            callAPI(`/api/profile/${id}`, 'PUT', { name, email });
        }
        
        // Chargement initial
        document.addEventListener('DOMContentLoaded', () => {
            resultDiv.innerHTML = `
                <h3><i class="fas fa-info-circle"></i> Bienvenue !</h3>
                <p>Ce syst√®me d'authentification utilise:</p>
                <ul style="margin: 10px 0 10px 20px; color: #666;">
                    <li>Node.js comme serveur</li>
                    <li>Express.js comme framework</li>
                    <li>bcrypt pour le hachage s√©curis√© des mots de passe</li>
                    <li>Fichier JSON comme base de donn√©es temporaire</li>
                </ul>
                <p>Testez les diff√©rentes fonctionnalit√©s ci-dessus.</p>
            `;
        });
    </script>
</body>
</html>
```

### **√âtape 5 : Test Complet**

#### **Lancez l'application :**
```bash
npm run dev
```

#### **Testez dans l'ordre :**
1. **Inscription** : Cr√©ez un compte
2. **Connexion** : Connectez-vous avec le m√™me compte
3. **Profil** : Utilisez l'ID re√ßu pour voir votre profil
4. **Modification** : Changez votre nom ou email

---

## **üìù MINI-QUIZ 7 (5 questions al√©atoires)**

### **1. `bcrypt.hash()` sert √† :**
A) Crypter un mot de passe
B) Hacher un mot de passe
C) Compresser des donn√©es
D) Signer un token
**R√©ponse : B**

### **2. `express.json()` est un middleware pour :**
A) Servir des fichiers
B) Parser le JSON
C) Logger les requ√™tes
D) Authentifier
**R√©ponse : B**

### **3. Le code 201 signifie :**
A) Succ√®s
B) Cr√©√©
C) Non trouv√©
D) Erreur
**R√©ponse : B**

### **4. `fs.promises` permet d'utiliser :**
A) `async/await`
B) Les callbacks
C) Les promesses
D) A et C
**R√©ponse : D**

### **5. Pour une erreur d'authentification, on renvoie :**
A) Code 200
B) Code 400
C) Code 401
D) Code 500
**R√©ponse : C**

---

## **üéì CONCLUSION DU COURS**

### **Ce que vous avez accompli :**

‚úÖ **Compris** l'histoire et l'√©volution de Node.js  
‚úÖ **Cr√©√©** votre premier serveur Node.js natif  
‚úÖ **D√©couvert** pourquoi Express.js simplifie tout  
‚úÖ **Appris** la chronologie des frameworks  
‚úÖ **Ma√Ætris√©** la syntaxe Express de base  
‚úÖ **Impl√©ment√©** un syst√®me d'authentification complet  
‚úÖ **Cr√©√©** une interface utilisateur √©l√©gante  

### **Votre Parcours en R√©sum√© :**

```
√âtape 1 : Quiz pr√©-requis ‚Üí √âvaluation de vos connaissances
√âtape 2 : Histoire ‚Üí Comprendre pourquoi Node.js existe
√âtape 3 : Premiers pas ‚Üí Votre premier code Node.js
√âtape 4 : Modules ‚Üí Organisation du code
√âtape 5 : Frameworks ‚Üí √âcosyst√®me Node.js
√âtape 6 : Express ‚Üí Framework principal
√âtape 7 : Projet complet ‚Üí Syst√®me d'authentification
```

### **Prochaines √âtapes Recommand√©es :**

1. **Ajouter une vraie base de donn√©es** (MongoDB avec Mongoose)
2. **Impl√©menter les JWT** (JSON Web Tokens) pour les sessions
3. **Ajouter la validation avanc√©e** (Joi ou Zod)
4. **√âcrire des tests** avec Jest
5. **Configurer le d√©ploiement** sur Render ou Railway

### **Ressources pour Continuer :**

- **Documentation officielle :** [nodejs.org](https://nodejs.org)
- **Express Guide :** [expressjs.com](https://expressjs.com/)
- **Cours gratuit :** freeCodeCamp Backend Development
- **Communaut√© :** StackOverflow, Reddit r/node

### **Mot de la Fin :**

> "Le backend, c'est comme les fondations d'un b√¢timent. Invisible mais essentiel. Sans de bonnes fondations, le plus beau frontend du monde ne tiendra pas longtemps."

**Vous avez maintenant les bases solides pour construire des applications backend professionnelles avec Node.js et Express.**

**Continuez √† pratiquer, √† coder, √† apprendre. Le voyage ne fait que commencer !** üöÄ

**F√©licitations pour avoir compl√©t√© ce cours !** üéâ